<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>渗透平台 - C1O2A3</title>
  <link rel="stylesheet" href="./src/css/layui.css">
<style type="text/css">
.layui-layout-admin .layui-body {
    position: fixed;
    top: 60px;
    bottom: 44px;
}
.myselect {
  outline-style: none;
  border-bottom-color:  #ccc;
  border-top: 0px;
  border-left: 0px;
  border-right: 0px;
  padding: 30px;
  margin-top: 15px;
  padding-top: 16px;
  overflow: hidden;
  font-size: 15px;
}
.myinput{
  width: 90%;
  outline-style: none;
  border-bottom-color:  #ccc;
  border-top: 0px;
  border-left: 0px;
  border-right: 0px;
  padding: 30px;
  margin-top: 15px;
  padding-top: 16px;
  overflow: hidden;
  font-size: 15px;
}
.mymd5{
  margin-top: 15px;
  /*padding-top: 66px;*/
}
.myinput:hover {
    border-bottom-color:  #c51152;
    -webkit-box-shadow: 0 3px 0 0 #c51152;
    box-shadow: 0 3px 0 0 #c51152;
}
.myinput:focus {
    border-bottom-color:  #33ccff;
    -webkit-box-shadow: 0 3px 0 0 #33ccff;
    box-shadow: 0 3px 0 0 #33ccff;
}
</style>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header layui-bg-blue">
    <div class="layui-logo">渗透平台</div>

    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
 <!--      <li class="layui-nav-item"><a href="">控制台</a></li>
      <li class="layui-nav-item"><a href="">商品管理</a></li>
      <li class="layui-nav-item"><a href="">用户</a></li> -->
<!--       <li class="layui-nav-item">
        <a href="javascript:;">其它系统</a>
        <dl class="layui-nav-child">
          <dd><a href="">邮件管理</a></dd>
          <dd><a href="">消息管理</a></dd>
          <dd><a href="">授权管理</a></dd>
        </dl>
      </li> -->
    </ul>
    <ul class="layui-nav layui-layout-right layui-bg-blue">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="./src/img/test.jpg" class="layui-nav-img">
          c1o2a3
        </a>
        <!-- <dl class="layui-nav-child"> -->
<!--           <dd><a href="">基本资料</a></dd>
          <dd><a href="">安全设置</a></dd> -->
        <!-- </dl> -->
      </li>
      <!-- <li class="layui-nav-item"><a href="">退了</a></li> -->
    </ul>
  </div>
  
  <div class="layui-side layui-bg-blue">
    <div class="layui-side-scroll">
      <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
      <ul class="layui-nav layui-nav-tree layui-bg-blue"  lay-filter="test">
        <li class="layui-nav-item  layui-nav-itemed">
          <a class="" href="javascript:;">前端工具</a>
          <dl class="layui-nav-child">
            <dd><a href="./decode.html">编码解码</a></dd>
            <dd><a href="./qrcode.html">二维码生成</a></dd>
            <!-- <dd><a href="./codebeautify.html">代码美化</a></dd> -->
            <dd><a href="./passwd.html">随机密码生成器</a></dd>
            <dd class="layui-this"><a href="./idcard.html">身份证号码生成</a></dd>
          </dl>
        </li>
        <li class="layui-nav-item">
          <a href="javascript:;">安全工具</a>
          <dl class="layui-nav-child">
            <dd><a href="./googlehacking.html">google hacking</a></dd>
            <dd><a href="./search.html">综合搜索</a></dd>
            <dd><a href="./getAV.html">Windows杀软识别</a></dd>
            <dd><a href="./tiquan.html">Windows提权辅助</a></dd>
            <dd><a href="./shell.html">反弹shell编码</a></dd>
<!--             <dd><a href="">超链接</a></dd> -->
          </dl>
        </li>
        <li class="layui-nav-item">
          <a href="javascript:;">常用资料</a>
          <dl class="layui-nav-child">
            <dd><a href="./linux.html">Linux常用命令</a></dd>
            <dd><a href="./windows.html">windows常用命令</a></dd>
            <dd><a href="./powershell.html">powershell常用命令</a></dd>
            <dd><a href="./down.html">传输方法常用命令</a></dd>
<!--             <dd><a href="">超链接</a></dd> -->
          </dl>
        </li>
<!--         <li class="layui-nav-item"><a href="">云市场</a></li>
        <li class="layui-nav-item"><a href="">发布商品</a></li> -->
      </ul>
    </div>
  </div>
  
  <div class="layui-body ">
    <!-- 内容主体区域 -->
      <div class="layui-collapse" lay-accordion="" style="padding: 15px;">
        <center>  <h1>身份证号码生成</h1></center>
        <hr class="layui-border-blue">

        <div class="layui-form">
          <table class="layui-table" style="width:50%;margin-left: 300px; margin-top: 50px;">
            <colgroup>
              <col width="80">
              <col width="150">
              <col>
            </colgroup>
            <thead>
              <tr>
              </tr> 
            </thead>
            <tbody>
              <tr>
                <td style="width:15%;height:50px">出生地</td>
                <td>
                  <div class="layui-form-item" id="area-picker">
                      <div class="layui-input-inline" style="width: 200px;">
                          <select name="province" class="province-selector" data-value="广东省" lay-filter="province-1">
                              <option value="">请选择省</option>
                          </select>
                      </div>
                      <div class="layui-input-inline" style="width: 200px;">
                          <select name="city" class="city-selector" data-value="深圳市" lay-filter="city-1">
                              <option value="">请选择市</option>
                          </select>
                      </div>
                      <div class="layui-input-inline" style="width: 200px;">
                          <select name="county" class="county-selector" data-value="龙岗区" lay-filter="county-1">
                              <option value="">请选择区</option>
                          </select>
                      </div>
                  </div>
                </td>
              </tr>
              <tr>
                <td style="width:15%;height:50px">出生日期</td>
                <td>

                  <div class="layui-input-inline">
                    <input type="text" class="layui-input" id="test19" placeholder="yyyy-MM-dd">
                  </div>

                </td>
              </tr>
              <tr>
                <td style="width:15%;height:50px">性别</td>
                <td>
                  <div class="layui-input-inline">
                    <input type="radio" name="sex" value="男" title="男" checked="" lay-filter="sex">
                    <input type="radio" name="sex" value="女" title="女" lay-filter="sex">
                    <input type="radio" name="sex" value="可男可女" title="可男可女" disabled="" lay-filter="sex">
                  </div>

                </td> 
              </tr>
              <tr>
                <td style="width:15%;height:50px">生成个数</td>
                <td>
                  <div id="slideTest2" class="demo-slider"  style="width:85%; margin-left: 10px"></div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="layui-btn-container" style="margin: 30px 35% ">
            <button type="button" class="layui-btn layui-btn-normal LAY-component-form-getval" onclick="result_id()">生  成</button>
            <button type="button" class="layui-btn layui-btn-blue LAY-component-form-getval" onclick="copy_idcard()">复制结果</button>
            <button type="button" class="layui-btn layui-btn-primary" onclick="remove_result()">清除结果</button>
          </div>
          <div id="result">
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
              <legend>生成结果</legend>
            </fieldset>  
            <table class="layui-table" lay-skin="line" style="width:50%;margin-left: 300px;"  id="idcart_result">
              
            </table>    
          </div>
        </div>
      </div>
  </div>
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    © C1O2A3
  </div>
</div>
<script src="./src/layui.js"></script>
<script>
region = "440307";
birthday = "19901014";
sex = "男";;
man = new Array('1','3','5','7','9');
women = new Array('0','2','4','6','8');
check_id =[ 7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2 ];
check_18 =new Array(1 , 0 , 'X' , 9 , 8 , 7 , 6 , 5 , 4 , 3 , 2);
//生成个数变量
size = 5;
idcard_sum = "";
//配置插件目录
layui.config({
    base: './src/mods/'
    , version: '1.0'
}); 
//JavaScript代码区域
layui.use(['form','element','layer','layarea_lc','laydate','slider'], function(){
  $ = layui.jquery;
  element = layui.element;
  layer = layui.layer;
  form = layui.form;
  layarea_lc = layui.layarea_lc;
  laydate = layui.laydate;
  slider = layui.slider;

//出生地选择框
  layarea_lc.render({
      elem: '#area-picker',
  //不填均为code类型
      name:'code',
      change: function (res) {
          if (res['county'] !=="") {
            region = res['county'];
          }else if (res['city'] !=="") {
            region = res['city'];
          }else if(res['province'] !==""){
            region = res['province'];
          }
      }
  });

  //日期选择器初始赋值
  laydate.render({
    elem: '#test19'
    ,theme: 'grid'
    ,value: '1990-10-14'
    ,isInitValue: true
    ,done: function(value, date){
      // layer.alert('你选择的日期是：' + value + '<br>获得的对象是' + JSON.stringify(date));
      // 截取获取到的日期为19900102格式
      birthday = value.replace(/-/g, '');

    }
  });
  //滑块
  //定义初始值
  slider.render({
    elem: '#slideTest2'
    ,value: 5 //初始值
    ,min: 1
    ,max: 10000
    ,input: true
    ,change: function(value){
    // console.log(value) //动态获取滑块数值
    size = value;}
  });

  //获取性别
  form.on('radio(sex)', function(data){
    // console.log(data.elem); //得到 radio 原始 DOM 对象
    // console.log(data.value); //被点击的 radio 的 value 值
    if (data.value =="可男可女") {
      sex = "男";
      layer.alert("？？？？？");
    }
    sex = data.value;
  });  

});

//生成结果
function result_id() {
  //去重用的数组
  ids_arr = [];
  htmlContent = '<colgroup><col width="20%"><col width="80%"><col></colgroup><thead><tr><th>序号</th><th>结果</th></tr></thead><tbody></tbody>';
  idcard_sum = "";
  for (t=1;t<=size;t++) {
    re = shengcheng();
    // console.log(re);
    htmlContent += "<tr><td>"+ t +"</td><td>"+ re +"</td></tr>";
    ids_arr.push(re);
    // idcard_sum += re +"\n";
    // console.log(ids_arr);
  }
  // console.log(ids_arr);
  idcard_sum = unique(ids_arr);
  // console.log(idcard_sum);
  // console.log(newArr);
  //先清除结果表格
  remove_result();
  //增加显示结果dom
  $("#idcart_result").prepend(htmlContent);
}


//清除结果
function remove_result() {
  $("#idcart_result").empty();
}

//生成虚拟身份证号码
function shengcheng() {
  //生成随机数
  ran = randnomsex(0,5);
  if (sex =="女") {
    //性别校验位
    sex_id = women[ran];
  }else{
    //性别校验位
    sex_id = man[ran];
  }
  //身份证号码前17位
  test = region+birthday+randnom(0,99)+sex_id;
  //17位计算的和
  he = 0;
  for (i=0;i<17;i++) {
    he += test.charAt(i)*check_id[i];
  }
  //得出取余结果
  quyujieguo =he % 11;
  //得出最终结果
  var result = region+birthday+randnom(0,99)+sex_id+check_18[quyujieguo];
  return result;
}

//随机数生成，如果是个位数则加0，例如如果是1则变成01
function randnom(min, max) {
  str = Math.floor(Math.random() * (max - min)) + min;
  if (Number(str)<10) {
    str = "0"+str;
  }
  return str;
}

//随机数生成
function randnomsex(min, max) {
  str = Math.floor(Math.random() * (max - min)) + min;
  return str;
}

//复制身份证号码函数
function copy_idcard() {
  let that = this;
  let txa = document.createElement('textarea');
  let txval = idcard_sum;
  if (txval =="") {
    layer.alert("抱歉,您未生成数据！");
  }else{
    txa.value = txval;
    document.body.appendChild(txa);
    txa.select();
    let res = document.execCommand('copy');
    document.body.removeChild(txa);
    layer.alert("已去重并且复制到剪贴板！");
  }
}

//数组去重
function unique(arr){
  var hash="";
  for (var i = 0; i < arr.length; i++) {
     if(hash.indexOf(arr[i])==-1){
       hash += arr[i] +"\n";
     }
  }
  return hash;
}
</script>
</body>
</html>
      